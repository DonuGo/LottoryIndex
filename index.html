<html>
	<head>
	  <script type="text/javascript" src="web3.min.js"></script>
	  <script src="ethereumjs-tx.js"></script>
	  <script>
	let Web3 = require('web3');
	let web3 = new Web3(new Web3.providers.HttpProvider("https://rinkeby.infura.io/f8f78ce5057748059abbd716d80c7692"));
	let sayHello = "0x" + web3.sha3("resetHello()").substr(2,8);
	let privateKey = new EthJS.Buffer.Buffer('8053dc015c44b5262a4d42f0d62c5531b2c1e89b4839a8cd581eaf256b586c08', 'hex')

function Reset() {
	var non = web3.eth.getTransactionCount("0x5e8F5DB76176A35A88A32684590793154625250b");
	console.log(non);
	let sayHello = "0x" + web3.sha3("resetHello()").substr(2,8);
	let txParams = {
		nonce: non,
		to: '0x2195Fb4ABA0497E8901768e7DcDfA1eC1f7721aD', 
		gasPrice: '0x09184e72a0',
		gasLimit: '0x271000',
		data: sayHello,
	}
	let tx = new EthJS.Tx(txParams)
	tx.sign(privateKey)
	let serializedTx = tx.serialize().toString('hex')

	web3.eth.sendRawTransaction('0x' + serializedTx.toString('hex'), function(err, hash) {
		if (!err)
			console.log(hash); // "0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385"
		else
			console.log(err); 
	});
	console.log("Reset");
}
function Set() {
	let non = web3.eth.getTransactionCount("0x5e8F5DB76176A35A88A32684590793154625250b");
	let sayHello = "0x" + web3.sha3("setHello(uint256)").substr(2,8) + "0000000000000000000000000000000000000000000000000000000000000002";
	console.log(sayHello);
	let txParams = {
		nonce:    non,
		to: '0x2195Fb4ABA0497E8901768e7DcDfA1eC1f7721aD', 
		gasPrice: '0x19184e72a0',
		gasLimit: '0x271000',
		data: sayHello,
	}
	let tx = new EthJS.Tx(txParams)
	tx.sign(privateKey)
	let serializedTx = tx.serialize().toString('hex')

	web3.eth.sendRawTransaction('0x' + serializedTx.toString('hex'), function(err, hash) {
		if (!err)
			console.log(hash); // "0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385"
		else
			console.log(err); 
	});
	console.log("Set");
}
function Get() {
	let functionSig = "0x" + web3.sha3("sayHello()").substr(2,8);
	let result = web3.eth.call({
		// contract address
		to: "0x2195Fb4ABA0497E8901768e7DcDfA1eC1f7721aD",
		// contract function from sha3 "()"
		data: functionSig
	});
	console.log((result));
}

	  </script>
	</head>
	<body>
		<button onclick="Get()">Get</button>
		<button onclick="Set()">Set</button>
		<button onclick="Reset()">Reset</button>
	</body>
</html>
